# ğŸ¨ Interface de EdiÃ§Ã£o de Planos - Layout Esperado

## ğŸ“‹ **O que DEVE aparecer**

### Dialog "Editar Plano"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Editar Plano                    [X]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Atualize as informaÃ§Ãµes do plano de assinatura                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [  BÃ¡sico  ]  [  Recursos  ]  [  ConfiguraÃ§Ãµes  ]           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚                                                                 â”‚
â”‚  Nome do Plano *              Status *                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ BÃ¡sico              â”‚     â”‚ Ativo           [v] â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”‚  DescriÃ§Ã£o                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Plano ideal para pequenos negÃ³cios                    â”‚    â”‚
â”‚  â”‚                                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  Valor (R$) *                 Ciclo de CobranÃ§a *   â­         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ 197                 â”‚     â”‚ Mensal (30 dias)    [v] â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                               â”œâ”€ Mensal (30 dias)              â”‚
â”‚                               â”œâ”€ Trimestral (90 dias)          â”‚
â”‚                               â”œâ”€ Semestral (180 dias)          â”‚
â”‚                               â””â”€ Anual (365 dias)              â”‚
â”‚                                                                 â”‚
â”‚  MÃ¡x. Produtos                MÃ¡x. Categorias                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 100                 â”‚     â”‚ 10                  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 [ Cancelar ]  [ Salvar Plano ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â­ **Campo Importante: "Ciclo de CobranÃ§a"**

### LocalizaÃ§Ã£o
- **Aba:** BÃ¡sico (primeira aba)
- **PosiÃ§Ã£o:** Ao lado direito do campo "Valor (R$)"
- **Grid:** 2 colunas (Valor | Ciclo)

### OpÃ§Ãµes do Select

```
Ciclo de CobranÃ§a *
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mensal (30 dias)              [v]  â”‚  <- Selecionado
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ao clicar:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ Mensal (30 dias)                â”‚  <- OpÃ§Ã£o 1
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Trimestral (90 dias)            â”‚  <- OpÃ§Ã£o 2
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Semestral (180 dias)            â”‚  <- OpÃ§Ã£o 3
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Anual (365 dias)                â”‚  <- OpÃ§Ã£o 4
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” **Como Verificar se EstÃ¡ Funcionando**

### 1. Abrir Dialog
```
/dashboard/plans
-> Clicar em "Editar" em qualquer plano
-> Dialog deve abrir
```

### 2. Verificar Aba "BÃ¡sico"
```
âœ“ Nome do Plano (input text)
âœ“ Status (select)
âœ“ DescriÃ§Ã£o (textarea)
âœ“ Valor (R$) (input number)
âœ… Ciclo de CobranÃ§a (select)  <- DEVE ESTAR AQUI!
âœ“ MÃ¡x. Produtos (input number)
âœ“ MÃ¡x. Categorias (input number)
```

### 3. Testar o Select
```
1. Clicar no select "Ciclo de CobranÃ§a"
2. Deve abrir dropdown com 4 opÃ§Ãµes
3. Selecionar "Trimestral (90 dias)"
4. Clicar em "Salvar Plano"
5. Deve salvar sem erros
```

---

## ğŸ› **Se NÃƒO estiver aparecendo**

### Causa: Cache do Navegador

**Sintomas:**
- Select de "Ciclo de CobranÃ§a" nÃ£o aparece
- Card do plano mostra "R$ 197,00/mÃªs" ao invÃ©s de "Mensal - 30 dias"
- Interface antiga sendo carregada

**SoluÃ§Ã£o 1: Hard Refresh**
```
Windows: CTRL + SHIFT + R
      ou CTRL + F5

Mac:     CMD + SHIFT + R
```

**SoluÃ§Ã£o 2: Limpar Cache**
```
1. CTRL + SHIFT + DELETE
2. Marcar: "Imagens e arquivos em cache"
3. PerÃ­odo: "Ãšltima hora"
4. Clicar: "Limpar dados"
5. Fechar e abrir novamente
```

**SoluÃ§Ã£o 3: Aba AnÃ´nima**
```
1. CTRL + SHIFT + N (Chrome)
   CTRL + SHIFT + P (Firefox)
2. Abrir: http://localhost:5173
3. Login como master_admin
4. /dashboard/plans
5. Editar plano
```

**SoluÃ§Ã£o 4: Reiniciar Servidor**
```
1. Fechar PowerShell (X no canto)
2. Duplo clique em: iniciar-mostralo.bat
3. Aguardar servidor iniciar
4. Abrir navegador em aba anÃ´nima
5. http://localhost:5173
```

---

## âœ… **Checklist de VerificaÃ§Ã£o**

### CÃ³digo (Backend)
- [x] Enum `billing_cycle_type` criado
- [x] Coluna `plans.billing_cycle` Ã© enum
- [x] FunÃ§Ã£o `approve_payment` usa `billing_cycle`
- [x] Migration aplicada com sucesso

### CÃ³digo (Frontend)
- [x] `PlansPage.tsx` atualizado
- [x] Select com 4 opÃ§Ãµes implementado
- [x] FunÃ§Ãµes `getBillingCycleLabel()` criadas
- [x] FunÃ§Ãµes `getBillingCycleDays()` criadas
- [x] Card mostra "Mensal - 30 dias"
- [x] Sem erros de linting

### Browser
- [ ] Cache limpo
- [ ] Hard refresh feito
- [ ] Aba anÃ´nima testada
- [ ] Select aparecendo
- [ ] 4 opÃ§Ãµes visÃ­veis
- [ ] Salvamento funcional

---

## ğŸ“¸ **ComparaÃ§Ã£o Visual**

### ANTES (Errado)
```
Valor (R$) *                 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     
â”‚ 197                 â”‚     
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     
                            
MÃ¡x. Produtos                
```

### DEPOIS (Correto)
```
Valor (R$) *                 Ciclo de CobranÃ§a *  â­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 197                 â”‚     â”‚ Mensal (30 dias)    [v] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            
MÃ¡x. Produtos                MÃ¡x. Categorias
```

---

## ğŸš€ **Teste RÃ¡pido**

```bash
# 1. Abra o DevTools
F12

# 2. Console tab
# 3. Digite:
localStorage.clear()
sessionStorage.clear()
location.reload(true)

# 4. Aguarde recarregar
# 5. VÃ¡ para /dashboard/plans
# 6. Editar plano
# 7. âœ… Deve aparecer o select!
```

---

## ğŸ“ **CÃ³digo do Select (ReferÃªncia)**

```tsx
<div className="space-y-2">
  <Label htmlFor="billing_cycle">Ciclo de CobranÃ§a *</Label>
  <Select
    value={formData.billing_cycle}
    onValueChange={(value) => setFormData({ ...formData, billing_cycle: value })}
  >
    <SelectTrigger>
      <SelectValue />
    </SelectTrigger>
    <SelectContent>
      <SelectItem value="monthly">Mensal (30 dias)</SelectItem>
      <SelectItem value="quarterly">Trimestral (90 dias)</SelectItem>
      <SelectItem value="biannual">Semestral (180 dias)</SelectItem>
      <SelectItem value="annual">Anual (365 dias)</SelectItem>
    </SelectContent>
  </Select>
</div>
```

**LocalizaÃ§Ã£o no arquivo:** `PlansPage.tsx` linhas 450-466

---

## ğŸ¯ **Status Atual**

| Item | Status | ObservaÃ§Ã£o |
|------|--------|-----------|
| CÃ³digo implementado | âœ… | Sem erros |
| Linting | âœ… | 0 erros |
| Servidor rodando | âœ… | Bun ativo |
| Browser cache | âŒ | Precisa limpar |
| Interface atualizada | â³ | Aguardando refresh |

---

**PrÃ³ximo passo:** Limpe o cache do navegador e faÃ§a hard refresh! ğŸ”„

